<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IG Planner Widget</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: #f5f0eb;
  min-height: 100vh;
  display: flex; align-items: center; justify-content: center;
  padding: 24px; gap: 28px; flex-wrap: wrap;
}

/* ‚îÄ‚îÄ CONFIG ‚îÄ‚îÄ */
#config {
  background:#fff; border-radius:16px; padding:28px;
  max-width:360px; width:100%;
  box-shadow: 0 4px 24px rgba(0,0,0,.08);
}
#config h2 { font-size:17px; font-weight:700; margin-bottom:4px; }
#config > p { font-size:12px; color:#888; margin-bottom:20px; line-height:1.5; }
.section-title {
  font-size:11px; font-weight:800; color:#1a1a1a;
  text-transform:uppercase; letter-spacing:.6px;
  margin:20px 0 12px; padding-bottom:6px; border-bottom:1px solid #f0f0f0;
}
label { display:block; font-size:11px; font-weight:700; color:#555; margin-bottom:3px; text-transform:uppercase; letter-spacing:.5px; }
input, textarea {
  width:100%; border:1.5px solid #e4e4e4; border-radius:8px;
  padding:9px 11px; font-size:13px; color:#1a1a1a;
  margin-bottom:13px; outline:none; transition:border-color .2s; font-family:inherit;
}
textarea { resize:vertical; min-height:56px; }
input:focus, textarea:focus { border-color:#8b6f5e; }
.stats-row { display:flex; gap:8px; }
.stats-row > div { flex:1; }
.add-hl-btn {
  background:none; border:1.5px dashed #ddd; border-radius:8px;
  color:#aaa; font-size:12px; padding:7px; width:100%;
  cursor:pointer; margin-bottom:13px; transition:all .2s;
}
.add-hl-btn:hover { border-color:#8b6f5e; color:#8b6f5e; }
#loadBtn {
  width:100%; background:#1a1a1a; color:#fff; border:none;
  border-radius:8px; padding:12px; font-size:14px; font-weight:600;
  cursor:pointer; transition:opacity .2s; margin-top:4px;
}
#loadBtn:hover { opacity:.8; }
.hint { font-size:11px; color:#bbb; margin-top:14px; text-align:center; line-height:1.6; }
.hint a { color:#8b6f5e; }
.avatar-upload-row { display:flex; gap:8px; align-items:flex-start; margin-bottom:13px; }
.avatar-upload-row input { margin-bottom:0; flex:1; }
.avatar-upload-btn {
  flex-shrink:0; background:#f5f0eb; border:1.5px solid #e4e4e4;
  border-radius:8px; padding:9px 10px; font-size:12px; cursor:pointer;
  white-space:nowrap; transition:all .2s; color:#555;
}
.avatar-upload-btn:hover { border-color:#8b6f5e; color:#8b6f5e; }

/* ‚îÄ‚îÄ STATUS ‚îÄ‚îÄ */
#status { display:none; text-align:center; padding:20px; font-size:13px; color:#888; }
.spinner { width:22px; height:22px; border:2px solid #e0e0e0; border-top-color:#8b6f5e; border-radius:50%; animation:spin .8s linear infinite; margin:0 auto 8px; }
@keyframes spin { to { transform:rotate(360deg); } }

/* ‚îÄ‚îÄ WIDGET ‚îÄ‚îÄ */
#widget { display:none; align-items:flex-start; justify-content:center; width:100%; overflow:hidden; }


/* ‚îÄ‚îÄ PHONE ‚îÄ‚îÄ */
:root { --phone-w: 380px; }
.phone-wrap {
  display: flex;
  flex-direction: column;
  align-items: center;
  transform-origin: top center;
  /* scale set via JS */
}
.top-btns {
  display:grid; grid-template-columns:1fr 1fr;
  gap:6px; margin-bottom:28px; width:380px;
}
.top-btn {
  padding:8px 0; border-radius:999px; font-size:11px; font-weight:700;
  cursor:pointer; border:1.5px solid #b0b0b0; background:transparent; color:#b0b0b0;
  transition:all .2s; text-align:center; white-space:nowrap;
  text-transform:uppercase; letter-spacing:.6px;
}
.top-btn:hover { border-color:#1a1a1a; color:#1a1a1a; }
.top-btn.active { border-color:#1a1a1a; color:#1a1a1a; background:transparent; }

#pinHint {
  width:380px; text-align:center; font-size:11px; color:#8b6f5e;
  margin-top:-6px; margin-bottom:10px; display:none;
  background:#fff8f4; border-radius:8px; padding:6px;
}
.phone-shell {
  width:380px; background:#fff; border-radius:52px;
  box-shadow: 0 0 0 11px #111, 0 28px 56px rgba(0,0,0,.28);
  position:relative; overflow:hidden;
}
.dynamic-island { position:absolute; top:13px; left:50%; transform:translateX(-50%); width:96px; height:26px; background:#111; border-radius:20px; z-index:20; }
.screen { height:820px; overflow-y:scroll; overflow-x:hidden; scrollbar-width:none; background:#ffffff; width:100%; }
.screen::-webkit-scrollbar { display:none; }

.status-bar { padding:16px 18px 4px; display:flex; justify-content:space-between; align-items:center; position:sticky; top:0; background:#ffffff; z-index:10; }
.time { font-weight:700; font-size:12px; color:#111; }
.status-icons { display:flex; gap:4px; align-items:center; }
.status-icons svg { width:14px; height:14px; }

.ig-topbar { padding:4px 14px 8px; display:flex; align-items:center; justify-content:space-between; position:sticky; top:32px; background:#ffffff; z-index:9; }
.ig-handle-text { font-size:15px; font-weight:600; letter-spacing:-.2px; }
.ig-topbar-left { display:flex; align-items:center; gap:8px; }
.ig-topbar-icons { display:flex; gap:12px; align-items:center; }

/* ‚îÄ‚îÄ PROFILE ‚îÄ‚îÄ */
.profile-section { padding:10px 14px 0; }

/* row 1: avatar + (name + stats) */
.profile-row { display:flex; align-items:center; gap:16px; margin-bottom:10px; }
.avatar-big { width:76px; height:76px; border-radius:50%; flex-shrink:0;
  background:linear-gradient(45deg,#f9ce34,#ee2a7b,#6228d7); padding:2.5px; }
.avatar-inner { width:100%; height:100%; border-radius:50%; background:#fff; padding:2.5px;
  display:flex; align-items:center; justify-content:center; overflow:hidden; }
.avatar-inner img { width:100%; height:100%; object-fit:cover; border-radius:50%; }
.avatar-letter { font-size:22px; font-weight:700; color:#111; }
.profile-right { display:flex; flex-direction:column; flex:1; gap:6px; }
.ig-name { font-size:13px; font-weight:700; color:#111; }
.stats-ig { display:flex; gap:20px; justify-content:flex-start; }
.stat { text-align:left; cursor:default; }
.stat-num { font-size:14px; font-weight:700; display:block; color:#111; line-height:1.2; }
.stat-lbl { font-size:10px; color:#111; }
.ig-category { font-size:11px; color:#888; margin-bottom:4px; }
.ig-bio-text { font-size:11px; line-height:1.45; color:#111; margin-bottom:4px; }
.ig-bio-text a { color:#0095f6; text-decoration:none; }

/* website */
.bio-link {
  display:flex; align-items:center; gap:5px;
  font-size:11px; color:#0095f6; font-weight:600;
  margin-bottom:8px; text-decoration:none;
  overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
}
.bio-link svg { flex-shrink:0; }

/* followers preview */
  background:#ddd; margin-left:-5px; overflow:hidden; }

/* action buttons ‚Äî 3 cols */
.action-row { display:flex; flex-direction:row; flex-wrap:nowrap; gap:6px; margin-bottom:14px; width:100%; }
.btn-following {
  flex:1; background:#efefef; color:#111; border:none;
  border-radius:10px; padding:6px 0; font-size:12px; font-weight:600;
  cursor:pointer; display:flex; align-items:center; justify-content:center; gap:3px;
}
.btn-msg {
  flex:1; background:#efefef; color:#111; border:none;
  border-radius:10px; padding:6px 0; font-size:12px; font-weight:600; cursor:pointer;
}
.btn-add {
  flex:0 0 36px; background:#efefef; color:#111; border:none;
  border-radius:10px; padding:6px 0; font-size:14px; font-weight:600; cursor:pointer;
  display:flex; align-items:center; justify-content:center;
}

.highlights-ig {
  display:flex; justify-content:flex-start; gap:16px; padding:0 14px 12px;
  overflow-x:auto; scrollbar-width:none;
  user-select:none; -webkit-user-select:none; cursor:grab;
}
.highlights-ig::-webkit-scrollbar { display:none; }
.highlights-ig.dragging { cursor:grabbing; }
.hl-item { text-align:center; flex:0 0 58px; width:58px; transition:transform .15s, opacity .15s; }
.hl-item.dragging-item { opacity:.5; transform:scale(.95); }
.hl-item.drag-over { transform:scale(1.08); }
.hl-ring { width:56px; height:56px; border-radius:50%; background:#dbdbdb; padding:2px; margin:0 auto 4px; }
.hl-inner-ig { width:100%; height:100%; border-radius:50%; background:#e8e0d8; display:flex; align-items:center; justify-content:center; border:2px solid #fff; overflow:hidden; }
.hl-emoji { font-size:20px; }
.hl-label-ig { font-size:9px; color:#111; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:58px; }

/* 4-tab bar */
.tabs { display:flex; margin-bottom:2px; }
.tab { flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:10px 0; cursor:pointer; }
.tab svg { width:20px; height:20px; }
.tab span { display:none; }
.tab.active span { color:#111; }
.tab.active { border-bottom:2px solid #111; margin-bottom:-1px; }
/* Active state for each icon type */
.tab.active:nth-child(1) svg circle { fill:#111; }
.tab.active:nth-child(2) svg rect, .tab.active:nth-child(2) svg polygon { stroke:#111; fill:#111; }
.tab.active:nth-child(3) svg path { stroke:#111; }
.tab.active:nth-child(4) svg rect, .tab.active:nth-child(4) svg circle, .tab.active:nth-child(4) svg path { stroke:#111; }

/* ‚îÄ‚îÄ GRID ‚îÄ‚îÄ */
.ig-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:2px; }
.ig-cell { aspect-ratio:4/5; background:#e8e0d8; position:relative; overflow:hidden; cursor:pointer; }
.ig-cell img { width:100%; height:100%; object-fit:cover; display:block; }
.ig-cell .overlay {
  position:absolute; inset:0;
  background:linear-gradient(to top,rgba(0,0,0,.55) 0%,transparent 50%);
  opacity:0; transition:opacity .2s;
  display:flex; flex-direction:column; justify-content:flex-end; padding:5px;
}
.ig-cell:hover .overlay { opacity:1; }
.overlay-date { font-size:8px; font-weight:700; color:#fff; text-shadow:0 1px 3px rgba(0,0,0,.6); }
.cell-arrow {
  position:absolute; top:50%; transform:translateY(-50%);
  background:rgba(0,0,0,.45); border:none; border-radius:50%;
  width:20px; height:20px; display:flex; align-items:center; justify-content:center;
  cursor:pointer; opacity:0; transition:opacity .2s; z-index:5; color:#fff; font-size:11px; line-height:1;
}
.ig-cell:hover .cell-arrow { opacity:1; }
.cell-arrow.prev { left:4px; }
.cell-arrow.next { right:4px; }
.cell-arrow:hover { background:rgba(0,0,0,.7); }
.cell-dots { position:absolute; top:5px; left:0; right:0; display:flex; justify-content:center; gap:3px; z-index:5; opacity:0; transition:opacity .2s; }
.ig-cell:hover .cell-dots { opacity:1; }
.cell-dot { width:4px; height:4px; border-radius:50%; background:rgba(255,255,255,.5); }
.cell-dot.active { background:#fff; }
.multi-badge { position:absolute; top:5px; right:5px; z-index:4; background:rgba(0,0,0,.5); border-radius:4px; padding:2px 4px; }
.multi-badge svg { width:9px; height:9px; fill:#fff; display:block; }
.ig-cell.empty { background:#ece7e2; }
.ig-cell.skeleton {
  background: linear-gradient(90deg, #ece7e2 25%, #e2dbd5 50%, #ece7e2 75%);
  background-size: 200% 100%;
  animation: shimmer 1.4s infinite;
}
@keyframes shimmer { to { background-position: -200% 0; } }
.pin-btn {
  position:absolute; bottom:5px; left:5px; z-index:6;
  background:transparent; border:none; border-radius:50%;
  width:18px; height:18px; display:flex; align-items:center; justify-content:center;
  cursor:pointer; opacity:0; transition:opacity .2s; padding:0;
}
/* Only show pin button on hover when pin-mode is active (class added to grid) */
.pin-mode-active .ig-cell:hover .pin-btn { opacity:1; }
.pin-btn svg { width:10px; height:10px; fill:#fff; filter: drop-shadow(0 0 2px rgba(0,0,0,.7)); }
.pin-btn.pinned { opacity:1 !important; }
.pin-btn.pinned svg { fill:#fff; filter: drop-shadow(0 0 3px rgba(0,0,0,.9)) drop-shadow(0 0 1px rgba(0,0,0,1)); }
.pin-badge {
  position:absolute; top:5px; right:5px; z-index:6;
  width:16px; height:16px;
  filter: drop-shadow(0 1px 2px rgba(0,0,0,.5));
}

/* ‚îÄ‚îÄ PROFILE OVERLAY ‚îÄ‚îÄ */
#profileOverlay {
  display:none; position:fixed; inset:0;
  background:rgba(0,0,0,.45); z-index:100;
  align-items:center; justify-content:center; padding:20px;
}
.profile-editor {
  background:#fff; border-radius:16px; padding:28px;
  width:100%; max-width:360px;
  box-shadow:0 8px 40px rgba(0,0,0,.2);
  max-height:90vh; overflow-y:auto;
}
.profile-editor::-webkit-scrollbar { display:none; }
.editor-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; }
.editor-header h3 { font-size:16px; font-weight:700; }
.close-btn { background:none; border:none; font-size:24px; cursor:pointer; color:#aaa; line-height:1; }
.save-btn { width:100%; background:#1a1a1a; color:#fff; border:none; border-radius:8px; padding:11px; font-size:14px; font-weight:600; cursor:pointer; }
</style>
</head>
<body>

<!-- CONFIG -->
<div id="config">
  <h2>üì± IG Planner Widget</h2>
  <p>Conect√° tu database de Notion para ver tu feed.</p>
  <label>Integration Token</label>
  <input type="password" id="token" placeholder="ntn_xxxxxxxxxxxx">
  <label>Database ID</label>
  <input type="text" id="dbId" placeholder="10ca47eb27c980c98ed9f7016b79b6ea">
  <label>Propiedad de fecha</label>
  <input type="text" id="dateProp" value="Publication Date">
  <button id="loadBtn">Conectar y ver ‚Üí</button>
  <p class="hint">El token se usa solo para llamar a Notion directamente.<br><a href="https://www.notion.so/my-integrations" target="_blank">Crear integraci√≥n ‚Üí</a></p>
</div>

<!-- STATUS -->
<div id="status"><div class="spinner"></div></div>

<!-- WIDGET -->
<div id="widget">
  <div class="phone-wrap" id="phoneWrap">
    <div class="top-btns">
      <button class="top-btn" onclick="openProfileEditor()">Editar perfil</button>
      <button class="top-btn" id="toggleBtn" onclick="toggleView()">Ver programados</button>
      <button class="top-btn" id="pinModeBtn" onclick="togglePinMode()">Fijar</button>
      <button class="top-btn" id="refreshBtn" onclick="refreshData()">Refrescar</button>
    </div>
    <div id="pinHint">Clic en una imagen para fijarla arriba ¬∑ M√°x. 3 ¬∑ Clic en FIJAR para terminar</div>

    <div class="phone-shell">
      <div class="dynamic-island"></div>
      <div class="screen">

        <div class="status-bar">
          <span class="time" id="clockTime">9:41</span>
          <div class="status-icons">
            <svg viewBox="0 0 17 12"><rect x="0" y="6" width="3" height="6" fill="#111" rx=".5"/><rect x="4.5" y="4" width="3" height="8" fill="#111" rx=".5"/><rect x="9" y="2" width="3" height="10" fill="#111" rx=".5"/><rect x="13.5" y="0" width="3" height="12" fill="#111" rx=".5"/></svg>
            <svg viewBox="0 0 16 12" fill="none"><path d="M8 10.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" fill="#111"/><path d="M5.5 8C6.4 7.1 7.1 6.7 8 6.7s1.6.4 2.5 1.3" stroke="#111" stroke-width="1.3" stroke-linecap="round"/><path d="M3.5 6C4.9 4.6 6.4 3.8 8 3.8s3.1.8 4.5 2.2" stroke="#111" stroke-width="1.3" stroke-linecap="round"/><path d="M1.5 4C3.3 2.2 5.5 1 8 1s4.7 1.2 6.5 3" stroke="#111" stroke-width="1.3" stroke-linecap="round"/></svg>
            <svg viewBox="0 0 24 12"><rect x=".5" y=".5" width="20" height="11" rx="2.5" stroke="#111"/><path d="M21 4v4a2 2 0 0 0 0-4z" fill="#111"/><rect x="2" y="2" width="15" height="8" rx="1.5" fill="#111"/></svg>
          </div>
        </div>

        <div class="ig-topbar">
          <div class="ig-topbar-left">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
            <span class="ig-handle-text" id="igHandle">handle</span>
          </div>
          <div class="ig-topbar-icons">
            <svg viewBox="0 0 24 24" style="width:18px;height:18px;fill:none;stroke:#111;stroke-width:1.8;">
              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
              <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
            </svg>
            <svg viewBox="0 0 24 24" style="width:20px;height:20px;cursor:pointer;" onclick="openProfileEditor()">
              <circle cx="5" cy="12" r="1.5" fill="#111"/>
              <circle cx="12" cy="12" r="1.5" fill="#111"/>
              <circle cx="19" cy="12" r="1.5" fill="#111"/>
            </svg>
          </div>
        </div>

        <div class="profile-section">
          <!-- Row: avatar + (name + stats) -->
          <div class="profile-row">
            <div class="avatar-big">
              <div class="avatar-inner" id="avatarInner">
                <span class="avatar-letter" id="avatarLetter">?</span>
              </div>
            </div>
            <div class="profile-right">
              <div class="ig-name" id="igName"></div>
              <div class="stats-ig">
                <div class="stat"><span class="stat-num" id="postCount">‚Äî</span><span class="stat-lbl">publicaciones</span></div>
                <div class="stat"><span class="stat-num" id="igFollowers">‚Äî</span><span class="stat-lbl">seguidores</span></div>
                <div class="stat"><span class="stat-num" id="igFollowing">‚Äî</span><span class="stat-lbl">seguidos</span></div>
              </div>
            </div>
          </div>

          <!-- Category + bio -->
          <div class="ig-category" id="igCategory"></div>
          <div class="ig-bio-text" id="igBio"></div>

          <!-- Website -->
          <a class="bio-link" id="igWebsite" href="#" target="_blank" style="display:none">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#0095f6" stroke-width="2.2" stroke-linecap="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>
            <span id="igWebsiteText"></span>
          </a>

          <!-- 3 action buttons -->
          <div style="display:flex !important; flex-direction:row !important; gap:6px; margin-bottom:14px; width:100%;">
            <button class="btn-following" style="flex:1; min-width:0;">Siguiendo
              <svg width="9" height="9" viewBox="0 0 10 6" fill="#111"><path d="M1 1l4 4 4-4"/></svg>
            </button>
            <button class="btn-msg" style="flex:1; min-width:0;">Mensaje</button>
            <button class="btn-add" style="flex:0 0 36px;">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#111" stroke-width="2.2" stroke-linecap="round"><circle cx="12" cy="8" r="4"/><path d="M4 20c0-4 3.6-7 8-7s8 3 8 7"/><line x1="19" y1="3" x2="19" y2="9"/><line x1="16" y1="6" x2="22" y2="6"/></svg>
            </button>
          </div>

          <div class="highlights-ig" id="igHighlights"></div>
        </div>

        <div class="tabs">
          <div class="tab active">
            <!-- Grid/dots icon like screenshot -->
            <svg viewBox="0 0 24 24"><circle cx="5" cy="5" r="1.5" fill="#aaa"/><circle cx="12" cy="5" r="1.5" fill="#aaa"/><circle cx="19" cy="5" r="1.5" fill="#aaa"/><circle cx="5" cy="12" r="1.5" fill="#aaa"/><circle cx="12" cy="12" r="1.5" fill="#aaa"/><circle cx="19" cy="12" r="1.5" fill="#aaa"/><circle cx="5" cy="19" r="1.5" fill="#aaa"/><circle cx="12" cy="19" r="1.5" fill="#aaa"/><circle cx="19" cy="19" r="1.5" fill="#aaa"/></svg>
            <span>Posts</span>
          </div>
          <div class="tab">
            <!-- Rounded square with play triangle - like screenshot -->
            <svg viewBox="0 0 24 24" fill="none" stroke="#aaa" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5"/><polygon points="10,8 16,12 10,16" fill="#aaa" stroke="none"/></svg>
            <span>Reels</span>
          </div>
          <div class="tab">
            <!-- Two arrows forming a cycle - like screenshot -->
            <svg viewBox="0 0 24 24" fill="none" stroke="#aaa" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M1.5 4v6h6"/><path d="M22.5 20v-6h-6"/><path d="M20.5 9A9 9 0 0 0 4.5 6.5L1.5 10M22.5 14l-3 3.5A9 9 0 0 1 3.5 15"/></svg>
            <span>Reposts</span>
          </div>
          <div class="tab">
            <!-- Person with outer ring - like screenshot -->
            <svg viewBox="0 0 24 24" fill="none" stroke="#aaa" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5"/><circle cx="12" cy="10" r="3"/><path d="M6.5 20c0-3 2.5-5 5.5-5s5.5 2 5.5 5"/></svg>
            <span>Tagged</span>
          </div>
        </div>

        <div class="ig-grid" id="igGrid"></div>
      </div>
    </div>
  </div>
</div>

<!-- PROFILE EDITOR OVERLAY -->
<div id="profileOverlay">
  <div class="profile-editor">
    <div class="editor-header">
      <h3>‚úèÔ∏è Editar perfil</h3>
      <button class="close-btn" onclick="closeProfileEditor()">√ó</button>
    </div>
    <label>Handle (sin @)</label>
    <input type="text" id="editHandle" placeholder="millieflame">
    <label>Nombre para mostrar</label>
    <input type="text" id="editName" placeholder="Millie Flame">
    <label>Categor√≠a</label>
    <input type="text" id="editCategory" placeholder="Community Manager ¬∑ Agencia">
    <label>Bio</label>
    <textarea id="editBio" placeholder="Community Manager ‚ú®&#10;@agencia ¬∑ creando con intenci√≥n"></textarea>
    <label>Link web</label>
    <input type="text" id="editWebsite" placeholder="https://millieflame.com">
    <label>Foto de perfil</label>
    <div class="avatar-upload-row">
      <input type="text" id="editAvatar" placeholder="URL o sub√≠ desde galer√≠a ‚Üí">
      <button class="avatar-upload-btn" onclick="document.getElementById('editAvatarFile').click()">üìÅ Galer√≠a</button>
      <input type="file" id="editAvatarFile" accept="image/*" style="display:none">
    </div>
    <div class="stats-row">
      <div><label>Publicaciones</label><input type="text" id="editPublished" placeholder="48"></div>
      <div><label>Seguidores</label><input type="text" id="editFollowers" placeholder="2.4k"></div>
      <div><label>Siguiendo</label><input type="text" id="editFollowing" placeholder="312"></div>
    </div>
    <div class="section-title" style="margin-top:4px;">‚≠ï Highlights</div>
    <div id="editHlList"></div>
    <button class="save-btn" onclick="saveProfileEditor()">Guardar cambios</button>
  </div>
</div>

<script>
const NV = '2022-06-28';
let allPages = [];
let currentDateProp = '';
let showingScheduled = false;
let pinMode = false;
let pinnedIds = [];

// ‚îÄ‚îÄ STORAGE ‚îÄ‚îÄ
function save(k, v) { try { localStorage.setItem(k, JSON.stringify(v)); } catch(e) {} }
function load(k, def) { try { const v = localStorage.getItem(k); return v ? JSON.parse(v) : def; } catch(e) { return def; } }

// ‚îÄ‚îÄ PROPORTIONAL SCALE (zoom) ‚îÄ‚îÄ
(function() {
  const BASE_W = 398; // 380px phone + 9px border each side
  const BASE_H = 900; // approx total height of phone-wrap (buttons + phone)
  function scalePhone() {
    const widgetEl = document.getElementById('widget');
    const wrap = document.getElementById('phoneWrap');
    if (!wrap || !widgetEl || widgetEl.style.display === 'none') return;
    const available = widgetEl.offsetWidth || window.innerWidth;
    const padding = 32;
    // Only scale DOWN (max 1.0) ‚Äî scaling up causes pixelation
    const scale = Math.min(1, (available - padding) / BASE_W);
    wrap.style.transform = scale < 1 ? `scale(${scale})` : '';
    wrap.style.transformOrigin = 'top center';
    // Reserve height so parent doesn't collapse
    widgetEl.style.minHeight = Math.round(BASE_H * scale) + 'px';
  }
  window.addEventListener('resize', scalePhone);
  if (window.ResizeObserver) {
    new ResizeObserver(scalePhone).observe(document.body);
  }
  window._scalePhone = scalePhone;
})();

// ‚îÄ‚îÄ CLOCK ‚îÄ‚îÄ
function tick() {
  const n = new Date();
  document.getElementById('clockTime').textContent =
    n.getHours().toString().padStart(2,'0') + ':' + n.getMinutes().toString().padStart(2,'0');
}
tick(); setInterval(tick, 10000);

// ‚îÄ‚îÄ HIGHLIGHTS ‚Äî up to 5, add/remove ‚îÄ‚îÄ
let hlData = load('ig_highlights', [
  { label:'Story 1', img:null },
]);

function buildHlRows(containerId) {
  const list = document.getElementById(containerId);
  if (!list) return;
  list.innerHTML = '';
  hlData.forEach((hl, i) => {
    const row = document.createElement('div');
    row.style.cssText = 'display:flex;gap:8px;align-items:center;margin-bottom:10px;';

    const thumb = document.createElement('div');
    thumb.style.cssText = 'width:36px;height:36px;border-radius:50%;flex-shrink:0;overflow:hidden;background:#e8e0d8;display:flex;align-items:center;justify-content:center;cursor:pointer;border:2px solid #e4e4e4;';
    thumb.innerHTML = hl.img
      ? `<img src="${hl.img}" style="width:100%;height:100%;object-fit:cover;">`
      : `<span style="font-size:16px">üì∑</span>`;

    const inp = document.createElement('input');
    inp.value = hl.label; inp.placeholder = 'Nombre';
    inp.style.cssText = 'flex:1;margin-bottom:0;';
    inp.addEventListener('input', () => { hlData[i].label = inp.value; });

    const fileInp = document.createElement('input');
    fileInp.type = 'file'; fileInp.accept = 'image/*'; fileInp.style.display = 'none';
    fileInp.addEventListener('change', e => {
      const f = e.target.files[0]; if (!f) return;
      const r = new FileReader();
      r.onload = ev => {
        hlData[i].img = ev.target.result;
        save('ig_highlights', hlData);
        buildHlRows(containerId);
        renderHighlights();
      };
      r.readAsDataURL(f);
    });

    const uploadBtn = document.createElement('button');
    uploadBtn.className = 'avatar-upload-btn';
    uploadBtn.textContent = 'üìÅ'; uploadBtn.title = 'Subir imagen';
    uploadBtn.style.cssText = 'padding:6px 8px;';
    uploadBtn.onclick = () => fileInp.click();
    thumb.onclick = () => fileInp.click();

    // Remove button
    const removeBtn = document.createElement('button');
    removeBtn.className = 'avatar-upload-btn';
    removeBtn.textContent = '‚úï'; removeBtn.title = 'Eliminar';
    removeBtn.style.cssText = 'padding:6px 8px;color:#c0392b;border-color:#e4e4e4;';
    removeBtn.onclick = () => {
      hlData.splice(i, 1);
      save('ig_highlights', hlData);
      buildHlRows(containerId);
      renderHighlights();
    };

    row.append(thumb, inp, uploadBtn, removeBtn, fileInp);
    list.appendChild(row);
  });

  // Add button (max 5)
  if (hlData.length < 5) {
    const addBtn = document.createElement('button');
    addBtn.className = 'add-hl-btn';
    addBtn.textContent = '+ Agregar highlight';
    addBtn.onclick = () => {
      hlData.push({ label: `Story ${hlData.length + 1}`, img: null });
      save('ig_highlights', hlData);
      buildHlRows(containerId);
      renderHighlights();
    };
    list.appendChild(addBtn);
  }
}

// ‚îÄ‚îÄ BIO PARSER ‚îÄ‚îÄ
function parseBio(text) {
  if (!text) return '';
  return text
    .replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')
    .replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="_blank">$1</a>')
    .replace(/@([\w.]+)/g,'<a href="https://instagram.com/$1" target="_blank">@$1</a>')
    .replace(/\n/g,'<br>');
}

// ‚îÄ‚îÄ HELPERS ‚îÄ‚îÄ
function fmtShort(d) {
  if (!d) return '';
  return new Date(d).toLocaleDateString('es-ES',{day:'numeric',month:'short'});
}
function getDate(page, prop) {
  const f = page.properties[prop];
  if (!f) return '';
  if (f.type==='date') return f.date?.start||'';
  if (f.type==='created_time') return f.created_time;
  return '';
}
function getAllImgs(page) {
  const imgs = [];
  if (page.cover) {
    const u = page.cover.type==='external' ? page.cover.external.url : page.cover.file?.url;
    if (u) imgs.push(u);
  }
  for (const k in page.properties) {
    const p = page.properties[k];
    if (p.type==='files') p.files?.forEach(f => {
      const u = f.type==='external' ? f.external.url : f.file?.url;
      if (u && !imgs.includes(u)) imgs.push(u);
    });
  }
  if (page._imageBlocks?.length)
    page._imageBlocks.forEach(b => { if (b.url && !imgs.includes(b.url)) imgs.push(b.url); });
  return imgs;
}
function getTitle(page) {
  for (const k in page.properties)
    if (page.properties[k].type==='title')
      return page.properties[k].title?.map(t=>t.plain_text).join('')||'';
  return '';
}

// ‚îÄ‚îÄ NOTION API ‚îÄ‚îÄ
async function notionQuery(token, dbId, opts = {}) {
  const res = await fetch('/.netlify/functions/notion', {
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body: JSON.stringify({
      token, dbId,
      fetchBlocks: opts.fetchBlocks ?? true,
      fetchHighlights: opts.fetchHighlights,
      highlightsPageName: opts.highlightsPageName,
      blocksLimit: opts.blocksLimit ?? 12,
      pageSize: opts.pageSize ?? 50
    })
  });
  const data = await res.json();
  if (!res.ok) throw new Error(data.message||`Error ${res.status}`);
  return data;
}

function applyPages(results, dateP) {
  return (results||[])
    .filter(p => !!getDate(p, dateP))
    .sort((a,b) => new Date(getDate(b,dateP)) - new Date(getDate(a,dateP)));
}

function showWidget(creds, pages) {
  allPages = pages;
  currentDateProp = creds.dateP;
  pinnedIds = load('ig_pinned', []);
  const prof = load('ig_profile', {});
  applyProfile({
    handle:    prof.handle    || 'handle',
    name:      prof.name      || prof.handle || '',
    category:  prof.category  || '',
    bio:       prof.bio       || '',
    website:   prof.website   || '',
    avatar:    prof.avatar    || '',
    followers: prof.followers || '‚Äî',
    following: prof.following || '‚Äî',
    posts:     prof.published || publishedCount(),
  });
  renderHighlights();
  renderGrid();
  document.getElementById('toggleBtn').textContent = 'Ver programados';
  document.getElementById('toggleBtn').classList.remove('active');
  document.getElementById('config').style.display = 'none';
  document.getElementById('status').style.display = 'none';
  document.getElementById('widget').style.display = 'flex';
  setTimeout(() => window._scalePhone && window._scalePhone(), 50);
}

// ‚îÄ‚îÄ CONNECT ‚îÄ‚îÄ
document.getElementById('loadBtn').onclick = async () => {
  const token = document.getElementById('token').value.trim();
  const dbId  = document.getElementById('dbId').value.trim().replace(/-/g,'');
  const dateP = document.getElementById('dateProp').value.trim();
  if (!token||!dbId) { alert('Ingres√° el token y el database ID.'); return; }

  // Show cached pages instantly if available
  const cached = load('ig_pages_cache', null);
  if (cached?.pages?.length) {
    showWidget({ dateP: cached.dateP || dateP }, cached.pages);
    // Show subtle "actualizando" indicator
    const btn = document.getElementById('refreshBtn');
    btn.textContent = 'Actualizando‚Ä¶'; btn.style.opacity = '.5';
    // Background refresh
    try {
      const data = await notionQuery(token, dbId, { fetchBlocks: true, blocksLimit: 12 });
      const freshPages = applyPages(data.results, dateP);
      save('ig_creds', { token, dbId, dateP });
      save('ig_pages_cache', { pages: freshPages, dateP, ts: Date.now() });
      allPages = freshPages; currentDateProp = dateP;
      renderGrid();
    } catch(e) { /* keep showing cache silently */ }
    btn.textContent = 'Refrescar'; btn.style.opacity = '1';
    return;
  }

  // First time: show spinner
  showStatus(true);
  try {
    const data = await notionQuery(token, dbId, { fetchBlocks: true, blocksLimit: 12 });
    const pages = applyPages(data.results, dateP);
    save('ig_creds', { token, dbId, dateP });
    save('ig_pages_cache', { pages, dateP, ts: Date.now() });
    showWidget({ dateP }, pages);
  } catch(e) {
    showStatus(false, e.message);
  }
};

function publishedCount() {
  const today = new Date(); today.setHours(0,0,0,0);
  return allPages.filter(p => new Date(getDate(p,currentDateProp)) <= today).length;
}

// ‚îÄ‚îÄ REFRESH ‚îÄ‚îÄ
async function refreshData() {
  const creds = load('ig_creds', null);
  if (!creds?.token || !creds?.dbId) return;
  const btn = document.getElementById('refreshBtn');
  btn.textContent = 'Actualizando‚Ä¶'; btn.style.opacity = '.5';
  try {
    const data = await notionQuery(creds.token, creds.dbId, { fetchBlocks: true, blocksLimit: 12 });
    const pages = applyPages(data.results, creds.dateP);
    save('ig_pages_cache', { pages, dateP: creds.dateP, ts: Date.now() });
    allPages = pages; currentDateProp = creds.dateP;
    renderGrid();
  } catch(e) { alert('Error al recargar: ' + e.message); }
  btn.textContent = 'Refrescar'; btn.style.opacity = '1';
}

// ‚îÄ‚îÄ TOGGLE ‚îÄ‚îÄ
function toggleView() {
  showingScheduled = !showingScheduled;
  const btn = document.getElementById('toggleBtn');
  btn.textContent = showingScheduled ? 'Ver publicados' : 'Ver programados';
  btn.classList.toggle('active', showingScheduled);
  renderGrid();
}

// ‚îÄ‚îÄ PIN MODE ‚îÄ‚îÄ
function togglePinMode() {
  pinMode = !pinMode;
  const btn = document.getElementById('pinModeBtn');
  btn.classList.toggle('active', pinMode);
  btn.textContent = pinMode ? 'Listo' : 'Fijar';
  document.getElementById('pinHint').style.display = pinMode ? 'block' : 'none';
  document.getElementById('igGrid').classList.toggle('pin-mode-active', pinMode);
}
function togglePin(pageId) {
  if (pinnedIds.includes(pageId)) {
    pinnedIds = pinnedIds.filter(id => id !== pageId);
  } else {
    if (pinnedIds.length >= 3) { alert('M√°ximo 3 posts fijados.'); return; }
    pinnedIds.push(pageId);
  }
  save('ig_pinned', pinnedIds);
  renderGrid();
}

// ‚îÄ‚îÄ APPLY PROFILE ‚îÄ‚îÄ
function applyProfile({handle,name,category,bio,website,avatar,followers,following,posts}) {
  document.getElementById('igHandle').textContent    = handle;
  document.getElementById('igName').textContent      = name || '';
  document.getElementById('igCategory').textContent  = category || '';
  document.getElementById('igCategory').style.display = category ? 'block' : 'none';
  document.getElementById('igBio').innerHTML         = parseBio(bio);
  document.getElementById('igFollowers').textContent = followers;
  document.getElementById('igFollowing').textContent = following;
  document.getElementById('postCount').textContent   = posts;

  // Website with icon
  const wEl = document.getElementById('igWebsite');
  const wTxt = document.getElementById('igWebsiteText');
  if (website) {
    wTxt.textContent = website.replace(/^https?:\/\//,'');
    wEl.href = website.startsWith('http') ? website : 'https://'+website;
    wEl.style.display = 'flex';
  } else { wEl.style.display = 'none'; }

  // Avatar
  const inner = document.getElementById('avatarInner');
  inner.innerHTML = avatar
    ? `<img src="${avatar}" alt="">`
    : `<span class="avatar-letter">${(handle[0]||'?').toUpperCase()}</span>`;

  // Followers preview
}

// ‚îÄ‚îÄ HIGHLIGHTS ‚îÄ‚îÄ
function renderHighlights() {
  const wrap = document.getElementById('igHighlights');
  wrap.innerHTML = '';
  hlData.forEach((hl, i) => {
    const el = document.createElement('div');
    el.className = 'hl-item';
    el.dataset.index = i;
    el.innerHTML = `
      <div class="hl-ring">
        <div class="hl-inner-ig">${hl.img
          ? `<img src="${hl.img}" style="width:100%;height:100%;object-fit:cover;border-radius:50%;" alt="">`
          : `<span class="hl-emoji">üì∑</span>`}
        </div>
      </div>
      <div class="hl-label-ig">${hl.label}</div>`;
    wrap.appendChild(el);
  });

  // Drag to reorder
  let dragEl = null, dragIdx = -1;
  wrap.addEventListener('pointerdown', e => {
    const item = e.target.closest('.hl-item');
    if (!item) return;
    dragEl = item; dragIdx = +item.dataset.index;
    item.classList.add('dragging-item');
    wrap.classList.add('dragging');
    wrap.setPointerCapture(e.pointerId);
    e.preventDefault();
  });
  wrap.addEventListener('pointermove', e => {
    if (!dragEl) return;
    const els = [...wrap.querySelectorAll('.hl-item:not(.dragging-item)')];
    els.forEach(el => el.classList.remove('drag-over'));
    for (const el of els) {
      const r = el.getBoundingClientRect();
      if (e.clientX >= r.left && e.clientX <= r.right) { el.classList.add('drag-over'); break; }
    }
  });
  wrap.addEventListener('pointerup', e => {
    if (!dragEl) return;
    const els = [...wrap.querySelectorAll('.hl-item:not(.dragging-item)')];
    for (const el of els) {
      const r = el.getBoundingClientRect();
      if (e.clientX >= r.left && e.clientX <= r.right) {
        const toIdx = +el.dataset.index;
        [hlData[dragIdx], hlData[toIdx]] = [hlData[toIdx], hlData[dragIdx]];
        save('ig_highlights', hlData);
        break;
      }
    }
    dragEl.classList.remove('dragging-item');
    wrap.classList.remove('dragging');
    els.forEach(el => el.classList.remove('drag-over'));
    dragEl = null; dragIdx = -1;
    renderHighlights();
  });
}

// ‚îÄ‚îÄ GRID ‚îÄ‚îÄ
function renderGrid() {
  const today = new Date(); today.setHours(0,0,0,0);
  let pool = allPages.filter(p => new Date(getDate(p,currentDateProp)) <= today);
  if (showingScheduled) {
    const sched = allPages.filter(p => new Date(getDate(p,currentDateProp)) > today);
    pool = [...pool, ...sched];
  }
  const pinned   = pinnedIds.map(id => pool.find(p => p.id===id)).filter(Boolean);
  const unpinned = pool.filter(p => !pinnedIds.includes(p.id));
  const pages    = [...pinned, ...unpinned];

  const grid = document.getElementById('igGrid');
  grid.innerHTML = '';
  const total = Math.max(pages.length, 9);
  const hues  = [25,200,140,310,50,170,260,35,100];

  for (let i = 0; i < total; i++) {
    const cell = document.createElement('div');
    cell.className = 'ig-cell';

    if (i < pages.length) {
      const p         = pages[i];
      const imgs      = getAllImgs(p);
      const date      = getDate(p, currentDateProp);
      const isPinned  = pinnedIds.includes(p.id);
      const isSched   = new Date(date) > today;
      if (isSched) cell.style.opacity = '.65';

      const im = document.createElement('img');
      im.alt=''; im.loading='lazy';
      if (imgs.length) { im.src=imgs[0]; }
      else { im.style.display='none'; cell.style.background=`hsl(${hues[i%hues.length]},22%,82%)`; }
      cell.appendChild(im);

      // carousel
      if (imgs.length > 1) {
        let idx = 0;
        const dotsWrap = document.createElement('div');
        dotsWrap.className = 'cell-dots';
        imgs.forEach((_,di) => {
          const dot = document.createElement('div');
          dot.className = 'cell-dot'+(di===0?' active':'');
          dotsWrap.appendChild(dot);
        });
        cell.appendChild(dotsWrap);
        const badge = document.createElement('div');
        badge.className = 'multi-badge';
        badge.innerHTML = `<svg viewBox="0 0 24 24"><rect x="0" y="6" width="17" height="14" rx="2" fill="none" stroke="#fff" stroke-width="2"/><path d="M2 4h15a2 2 0 0 1 2 2v13" stroke="#fff" stroke-width="2" fill="none"/></svg>`;
        cell.appendChild(badge);
        const prev = document.createElement('button');
        prev.className='cell-arrow prev'; prev.textContent='‚Äπ';
        const next = document.createElement('button');
        next.className='cell-arrow next'; next.textContent='‚Ä∫';
        function goTo(ni) {
          idx=(ni+imgs.length)%imgs.length; im.src=imgs[idx];
          dotsWrap.querySelectorAll('.cell-dot').forEach((d,di)=>d.classList.toggle('active',di===idx));
        }
        prev.onclick = e => { e.stopPropagation(); goTo(idx-1); };
        next.onclick = e => { e.stopPropagation(); goTo(idx+1); };
        cell.appendChild(prev);
        cell.appendChild(next);
      }

      if (isPinned) {
        const pb = document.createElement('div');
        pb.className='pin-badge';
        pb.innerHTML=`<img src="data:image/png;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QBMRXhpZgAATU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAACAKADAAQAAAABAAACAAAAAAD/7QA4UGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAAA4QklNBCUAAAAAABDUHYzZjwCyBOmACZjs+EJ+/8AAEQgCAAIAAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/bAEMAAQEBAQEBAgEBAgMCAgIDBAMDAwMEBgQEBAQEBgcGBgYGBgYHBwcHBwcHBwgICAgICAkJCQkJCwsLCwsLCwsLC//bAEMBAgICAwMDBQMDBQsIBggLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLC//dAAQAIP/aAAwDAQACEQMRAD8A/wA/+iiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//9D/AD/6KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD//0f8AP/ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP//S/wA/+iiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKK+oP2O/2Of2g/28fj5ov7Nv7M2gya94m1liQo+S3tbdCPMubmXBWKCIEF3PqFUM7KpAPl+iv9RX9hT/AIM/f+Ce/wADPCNlqv7ZUt98YvGDxq92hup9L0SCXGSsENq8U8gU8b55iJMA+WmdtfdPxg/4Nh/+CLPxb8Ly6Bb/AAkHhO6ZCkOpeH9TvbW6gJGNyq80sDn/AK6wyD2oA/yAaK/pA/4LZf8ABup8e/8AglQW+NXw5v5/iF8GrqcRDWhBsvtIkkbEcWoxplQrkhI7lMRu/wArLEzIrfzf0AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf/0/8AP/ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKK+o/wBjb9jb9oH9vX9oHRP2av2adEfW/EmtvnultZ2yEebdXUuCIoIgcu59QqhnZVIAfsbfsbftA/t6/tA6J+zV+zToj634k1t890trO2Qjzbq6lwRFBEDl3PqFUM7Kp/15v+CQf/BIP9n7/gkj+z8nw8+HiJrfjbW0il8U+KZYgtzqNyg4jjHJitYiSIYQeOWYs7MxP+CQf/BIP9n7/gkj+z8nw8+HiJrfjbW0il8U+KZYgtzqNyg4jjHJitYiSIYQeOWYs7Mx/W+gAooooA5jxr4K8IfEjwhqfw/+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FFHcgc1/CF/wXh/4OKPiB/wVUMXwC+BOn3/gj4MadcC4ks7qRRqGu3EZBjlvliZo0iiIzFbK7qH/AHjszBBGAfO3/BfL/gsl4n/4Kz/tQibwa1xp3wj8DvNaeE9NlBR7jeQJdQuE/wCe1xtG1T/qogqfe3s/4N0UUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf/0/8AP/ooooAKKKKACiiigAr6J/ZO/ao+NP7FP7Qfhn9pv9n3VTpHirwrdC5tZSN0UqMCksEyZG+GaMtHImRuRjyDgj52ooA/1rf+Cc//AAdCf8E3f2z/AARp2n/G3xTZfBj4gCNFv9J8Szi2015sYZ7XUZNtu0RP3VmaKUdNhA3H9f8AxF/wUZ/4J9eEtBbxR4m+Ofw/sdOUE/aJvEunrGcDOFPn/McdAMk9q/w06KAP9Kr/AIK2f8HcX7Ofwn8A6r8IP+CZ95/wnfjy+je2HiqS2aPRdJ3ggywrOqteTp/yzHl/ZwcMXkAMbf5v3jfxv4x+JfjHVPiF8QtUutb13W7qW9v7+9lae4ubidi8kkkjkszsxJJJyTXLUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQB//1P8AP/ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP//V/wA/+iiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//9b/AD/6KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD//2Q==" style="width:16px;height:16px;object-fit:contain;mix-blend-mode:screen;">`;
        cell.appendChild(pb);
      }
      const pinBtn = document.createElement('button');
      pinBtn.className = 'pin-btn'+(isPinned?' pinned':'');
      pinBtn.innerHTML = `<svg viewBox="0 0 24 24"><path d="M12 2l2.5 6.5H21l-5.5 4 2 6.5L12 15l-5.5 4 2-6.5L3 8.5h6.5z"/></svg>`;
      pinBtn.onclick = e => {
        e.stopPropagation();
        if (!pinMode && !isPinned) return;
        togglePin(p.id);
      };
      cell.appendChild(pinBtn);

      const ov = document.createElement('div');
      ov.className='overlay';
      ov.innerHTML=`<div class="overlay-date">${fmtShort(date)}${isSched?' üïê':''}</div>`;
      cell.appendChild(ov);
    } else {
      cell.classList.add('skeleton');
    }
    grid.appendChild(cell);
  }
}

// ‚îÄ‚îÄ PROFILE EDITOR ‚îÄ‚îÄ
function openProfileEditor() {
  const prof = load('ig_profile', {});
  document.getElementById('editHandle').value    = prof.handle    || document.getElementById('igHandle').textContent || '';
  document.getElementById('editName').value      = prof.name      || document.getElementById('igName').textContent   || '';
  document.getElementById('editCategory').value  = prof.category  || '';
  document.getElementById('editBio').value       = prof.bio       || document.getElementById('igBio').innerText      || '';
  document.getElementById('editWebsite').value   = prof.website   || '';
  document.getElementById('editAvatar').value    = prof.avatar    || '';
  document.getElementById('editFollowers').value = prof.followers || document.getElementById('igFollowers').textContent || '';
  document.getElementById('editFollowing').value = prof.following || document.getElementById('igFollowing').textContent || '';
  document.getElementById('editPublished').value = prof.published || document.getElementById('postCount').textContent  || '';
  buildHlRows('editHlList');
  document.getElementById('profileOverlay').style.display = 'flex';
}
document.getElementById('editAvatarFile').addEventListener('change', e => {
  const f = e.target.files[0]; if (!f) return;
  const r = new FileReader();
  r.onload = ev => document.getElementById('editAvatar').value = ev.target.result;
  r.readAsDataURL(f);
});
function saveProfileEditor() {
  const prof = {
    handle:    document.getElementById('editHandle').value.trim()    || 'handle',
    name:      document.getElementById('editName').value.trim(),
    category:  document.getElementById('editCategory').value.trim(),
    bio:       document.getElementById('editBio').value.trim(),
    website:   document.getElementById('editWebsite').value.trim(),
    avatar:    document.getElementById('editAvatar').value.trim(),
    followers: document.getElementById('editFollowers').value.trim() || '‚Äî',
    following: document.getElementById('editFollowing').value.trim() || '‚Äî',
    published: document.getElementById('editPublished').value.trim() || '‚Äî',
  };
  save('ig_profile', prof);
  save('ig_highlights', hlData);
  applyProfile({ ...prof, posts: prof.published });
  renderHighlights();
  closeProfileEditor();
}
function closeProfileEditor() {
  document.getElementById('profileOverlay').style.display = 'none';
}

// ‚îÄ‚îÄ SHOW STATUS ‚îÄ‚îÄ
function showStatus(loading, errMsg) {
  document.getElementById('config').style.display = 'none';
  const s = document.getElementById('status');
  s.style.display = 'block';
  s.innerHTML = loading
    ? `<div class="spinner"></div>`
    : `<p style="color:#c0392b;font-size:13px">‚ùå ${errMsg}</p>
       <button onclick="document.getElementById('status').style.display='none';document.getElementById('config').style.display='block';"
         style="margin-top:12px;padding:8px 16px;border:1px solid #ddd;border-radius:8px;cursor:pointer;font-size:12px">‚Üê Reintentar</button>`;
}

// ‚îÄ‚îÄ AUTO-CONNECT on load ‚îÄ‚îÄ
window.addEventListener('DOMContentLoaded', () => {
  const creds = load('ig_creds', null);
  if (creds?.token && creds?.dbId) {
    document.getElementById('token').value    = creds.token;
    document.getElementById('dbId').value     = creds.dbId;
    document.getElementById('dateProp').value = creds.dateP || 'Publication Date';

    // Try to show cached pages instantly (no spinner for returning users)
    const cached = load('ig_pages_cache', null);
    if (cached?.pages?.length) {
      showWidget({ dateP: cached.dateP || creds.dateP }, cached.pages);
      // Silent background refresh
      const btn = document.getElementById('refreshBtn');
      btn.textContent = 'Actualizando‚Ä¶'; btn.style.opacity = '.5';
      notionQuery(creds.token, creds.dbId, { fetchBlocks: true, blocksLimit: 12 })
        .then(data => {
          const pages = applyPages(data.results, creds.dateP);
          save('ig_pages_cache', { pages, dateP: creds.dateP, ts: Date.now() });
          allPages = pages; currentDateProp = creds.dateP;
          renderGrid();
        })
        .catch(() => {})
        .finally(() => { btn.textContent = 'Refrescar'; btn.style.opacity = '1'; });
    } else {
      setTimeout(() => document.getElementById('loadBtn').click(), 100);
    }
  }
});
</script>
</body>
</html>
